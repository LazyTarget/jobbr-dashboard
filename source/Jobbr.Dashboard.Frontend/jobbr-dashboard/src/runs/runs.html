<template>
  <require from="../resources/value-converters/timeSinceValueConverter"></require>
  <require from="../resources/value-converters/dateValueConverter"></require>
  <require from="../resources/value-converters/jobRunStateToColorValueConverter"></require>
  <require from="../resources/value-converters/coalesceValueConverter"></require>
  <div>
    <h2 if.bind="jobId">
      <i class="fas fa-suitcase extra-spacing-right"></i> MinutelyJob
      <small>Sample.JobServer.MinutelyJob</small>
    </h2>
    <h2 if.bind="!jobId">
      <i class="fas fa-flag-checkered"></i> All runs
    </h2>
  </div>

  <div class="box box-table">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>State</th>
          <th>Progress</th>
          <th>Planned Start</th>
          <th>Actual Start</th>
          <th>Duration</th>
        </tr>
      </thead>
      <tbody>
        <tr repeat.for="run of jobRuns">
          <td>${run.jobRunId}</td>
          <td><span class="${run.state | jobRunStateToColor}">${run.state}</span></td>
          <td>${run.progress} <span if.bind="run.progress">%</span></td>
          <td>${run.plannedStartUtc | date}</td>
          <td>${run.auctualStartUtc | timeSince:run.plannedStartUtc} later</td>
          <td>${run.auctualEndUtc | timeSince:run.auctualStartUtc}</td>
        </tr>
      </tbody>
    </table>
  </div>

</template>
